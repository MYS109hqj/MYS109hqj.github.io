<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .image-container {
            width: 240px; /* 设置图片容器宽度 */
            height: 320px; /* 设置图片容器高度 */
            overflow: hidden; /* 隐藏溢出部分 */
        }
        .image-container img {
            width: 240px; /* 设置图片宽度为容器宽度 */
            height: 320px; /* 设置图片高度为容器高度 */
            object-fit: fill; /* 填充满容器，不保持宽高比 */
            object-position: center; /* 图片居中 */
        }
          /* 遮罩层 */
  .overlay {
    position: fixed;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    font-size: 16px;
    /* IE9以下不支持rgba模式 */
    background-color: rgba(0, 0, 0, 0.5);
    /* 兼容IE8及以下 */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);
    display: none;
  }
  /* 弹出框主体 */
  .popup {
    background-color: #ffffff;
    max-width: 80%;
    min-width: 50%;
    height: auto;
    border-radius: 5px;
    margin: 100px auto;
    text-align: center;
  }
  /* 弹出框的标题 */
  .popup_title {
    height: 60px;
    line-height: 60px;
    border-bottom: solid 1px #cccccc;
  }
  /* 弹出框的内容 */
  .popup_content {
    height: 80%;
    line-height: 50px;
    padding: 15px 20px;
  }
  /* 弹出框的按钮栏 */
  .popup_btn {
    padding-bottom: 10px;
  }
  /* 弹出框的按钮 */
  .popup_btn button {
    color: #778899;
    width: 40%;
    height: 40px;
    cursor: pointer;
    border: solid 1px #cccccc;
    border-radius: 5px;
    margin: 5px 10px;
    color: #ffffff;
    background-color: #337ab7;
  }
  </style>
</head>
<body>
  <body onload="clearLocalStorage()">

    问答单片：</br>
    Q1:
    <audio controls>
      <source src="012.wav">
      您的浏览器不支持 audio 元素。
    </audio></br>
    //选项框单片
    <table>
      <tr class="image-container">
        <td><img src="012UntilDawn.jpg" alt="" width="30%"></td>
        <td><img src="008slient hill.jpg" alt="" width="30%"></td>
        <td><img src="003FNAF02.jpg" alt="" width="30%"></td>
      </tr>
      <tr>
        <td><button class="Q1" onclick="selectOption('Q1', 'A')">A</button></td>
        <td><button class="Q1" onclick="selectOption('Q1', 'B')">B</button></td>
        <td><button class="Q1" onclick="selectOption('Q1', 'C')">C</button></td>
      </tr>
    </table>
    <button id="showPopup1" onclick="showPopup('popup1');showSelection('Q1')">查看答案1</button>
    </br>
    <div id="overlay1" class="overlay">
      <div id="popup1" class="popup">
        <p class="popup_title">歌词原文及答案</p>
        <p class="popup_content" align="left">
          <img src="012UntilDawn.jpg" alt="UntilDawn" align="right" width="30%">
        Story and atmosphere, 80s serial killer's reign,</br>
        College kids on a mountain, where dangers remain,</br></br>
        <div id="answerQ1"></div>
        <div>正确答案是：A</div>
</p>
        <div class="popup_btn">
          <button class="confirmBtn" onclick="hidePopup('popup1')">确认</button>
        </div>
      </div>
    </div>

    <script>
      function showPopup(popupId) {
          var overlay = document.getElementById("overlay" + popupId.substring(5));
          overlay.style.display = "block";
      }
      
      function hidePopup(popupId) {
          var overlay = document.getElementById("overlay" + popupId.substring(5));
          overlay.style.display = "none";
      }
      
      function selectOption(questionId, option) {
          // 禁用其他两个按钮
          var buttons = document.getElementsByClassName(questionId);
          var buttonsArray = Array.from(buttons);
          buttonsArray.forEach(function(button) {
              button.disabled = true;
          });
      
          // 在这里执行获取选项信息的操作
          localStorage.setItem(questionId, option);
          alert("您选择了问题 " + questionId + " 的选项 " + option);
      }
      function showSelection(questionId) {
    var selectedOption = localStorage.getItem(questionId);
    var answerDiv = document.getElementById("answer" + questionId);
    if (selectedOption) {
        answerDiv.innerText = "您选择的选项是：" + selectedOption;
    } else {
        answerDiv.innerText = "您尚未选择任何选项！";
    }
  }
  function clearLocalStorage() {
    localStorage.clear();
    alert("成功清除缓存")
  }
  var timer;
  function startTimer() {
        startTime = new Date(); // 记录开始时间
        timer = setInterval(updateTimer, 1000);
    }
  function stopTimer(){
    clearInterval(timer);
  }
  document.querySelector('audio').addEventListener('play',startTimer);
  document.querySelectorAll('.Q1').forEach(function(button) {
    button.addEventListener('click', function() {
        document.querySelector('audio').removeEventListener('play', startTimer); // 移除播放事件监听器
        stopTimer(); // 停止计时器
    });
});
  function updateTimer(){
    console.log('Timer running...');
  }


      </script>
</body>

</html>
